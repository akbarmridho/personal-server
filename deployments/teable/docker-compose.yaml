services:
  teable:
    hostname: teable
    image: ghcr.io/teableio/teable:9caaaa85caed4fe4bfd791401e00fb0e3f2d3a7c
    restart: unless-stopped
    ports:
      - "8015:3000"
    volumes:
      - teable-data:/app/.assets:rw
    env_file:
      - .env
    environment:
      NEXT_ENV_IMAGES_ALL_REMOTE: true
    networks:
      - personal_network
    healthcheck:
      test: ["CMD", "curl", "-f", "http://localhost:3000/health"]
      start_period: 5s
      interval: 5s
      timeout: 3s
      retries: 3

networks:
  personal_network:
    external: true

volumes:
  teable-data: {}
