services:
  browser:
    container_name: browser
    build:
      context: .
      dockerfile: Dockerfile
    environment:
      BROWSER_CDP_PORT: 9222
      BROWSER_VNC_PORT: 5900
      BROWSER_NOVNC_PORT: 6080
      BROWSER_ENABLE_NOVNC: 1
      BROWSER_HEADLESS: 0
      BROWSER_PROFILE_DIR: /home/sandbox/.browser-profile
    ports:
      - "9222:9222"
      - "5900:5900"
      - "6080:6080"
    volumes:
      - browser_profile:/home/sandbox/.browser-profile
    shm_size: "1g"
    mem_limit: "2g"
    restart: unless-stopped
    networks:
      - personal_network

volumes:
  browser_profile:

networks:
  personal_network:
    external: true
